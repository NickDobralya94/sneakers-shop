{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\site my\\\\my-app\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Header from './components/Header.js';\nimport Drawer from './components/Drawer/index.js';\nimport axios from 'axios';\nimport { Route, Routes } from 'react-router-dom';\nimport AppContext from './context';\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites.jsx';\nimport Orders from './pages/Orders.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favorites, setFavorites] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const cartResponse = await axios.get('https://62f0fd3ee2bca93cd241924c.mockapi.io/cart');\n        const favoritesResponse = await axios.get('https://62f0fd3ee2bca93cd241924c.mockapi.io/favorite');\n        const itemsRespons = await axios.get('https://62f0fd3ee2bca93cd241924c.mockapi.io/items');\n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsRespons.data);\n      } catch (error) {\n        alert('Ошибка при запросе данных ;(');\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  const onАddToCart = async obj => {\n    const findItam = cartItems.find(item => Number(item.id) === Number(obj.id));\n\n    try {\n      if (findItam) {\n        setCartItems(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n        await axios.delete(`https://62f0fd3ee2bca93cd241924c.mockapi.io/cart'/${obj.id}`);\n      } else {\n        setCartItems(prev => [...prev, obj]);\n        const {\n          data\n        } = await axios.post('https://62f0fd3ee2bca93cd241924c.mockapi.io/cart', obj);\n        setCartItems(prev => prev.map(item => {\n          if (item.parentId === data.parentId) {\n            return { ...item,\n              id: data.id\n            };\n          }\n\n          return item;\n        }));\n      }\n    } catch (error) {\n      alert('Ошибка, не удалось добавить в корзину');\n      console.error(error);\n    }\n  };\n\n  const onRemuveItem = async id => {\n    try {\n      axios.delete(`https://62f0fd3ee2bca93cd241924c.mockapi.io/cart/${id}`);\n      setCartItems(prev => prev.filter(item => item.id !== id));\n    } catch (error) {\n      alert('Ошибка, не удалось удалить товар из корзины');\n      console.error(error);\n    }\n  };\n\n  const onAddToFavorite = async obj => {\n    try {\n      if (favorites.find(favObj => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(`https://62f0fd3ee2bca93cd241924c.mockapi.io/favorite/${obj.id}`);\n        setFavorites(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n      } else {\n        const {\n          data\n        } = await axios.post('https://62f0fd3ee2bca93cd241924c.mockapi.io/favorite', obj);\n        setFavorites(prev => [...prev, data]);\n      }\n    } catch (error) {\n      alert('не удалось добавить в фавориты');\n      console.error(error);\n    }\n  };\n\n  const onChangeSearchInput = event => {\n    setSearchValue(event.target.value);\n  };\n\n  const isItemAdded = id => {\n    return cartItems.some(obj => Number(obj.parentId) === Number(id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      items,\n      cartItems,\n      favorites,\n      isItemAdded,\n      onAddToFavorite,\n      setCartOpened,\n      setCartItems,\n      onАddToCart\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App clear\",\n      children: [cartOpened && /*#__PURE__*/_jsxDEV(Drawer, {\n        items: cartItems,\n        onClose: () => setCartOpened(false),\n        onRemove: onRemuveItem,\n        opened: cartOpened\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        onClickCart: () => setCartOpened(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            items: items,\n            cartItems: cartItems,\n            searchValue: searchValue,\n            setSearchValue: setSearchValue,\n            onChangeSearchInput: onChangeSearchInput,\n            onAddToFavorite: onAddToFavorite,\n            onАddToCart: onАddToCart,\n            isLoading: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"favorites\",\n          element: /*#__PURE__*/_jsxDEV(Favorites, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"orders\",\n          element: /*#__PURE__*/_jsxDEV(Orders, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"ltmMu8PZKlzN0C1QIR/x2DWHYm0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Header","Drawer","axios","Route","Routes","AppContext","Home","Favorites","Orders","App","items","setItems","useState","cartItems","setCartItems","favorites","setFavorites","searchValue","setSearchValue","cartOpened","setCartOpened","isLoading","setIsLoading","useEffect","fetchData","cartResponse","get","favoritesResponse","itemsRespons","data","error","alert","onАddToCart","obj","findItam","find","item","Number","id","prev","filter","delete","post","map","parentId","console","onRemuveItem","onAddToFavorite","favObj","onChangeSearchInput","event","target","value","isItemAdded","some"],"sources":["C:/Users/Hp/Desktop/site my/my-app/src/App.js"],"sourcesContent":["import React from 'react'\nimport Header from './components/Header.js';\nimport Drawer from './components/Drawer/index.js';\nimport axios from 'axios'\nimport {Route, Routes} from  'react-router-dom'\nimport AppContext from './context';\n\nimport Home from './pages/Home'\nimport Favorites from './pages/Favorites.jsx';\nimport Orders from './pages/Orders.jsx';\n\n\nfunction App() {\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favorites, setFavorites] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(()=> {\n    async function fetchData () {\n      try {\n        const cartResponse = await axios.get ('https://62f0fd3ee2bca93cd241924c.mockapi.io/cart');\n        const favoritesResponse = await axios.get ('https://62f0fd3ee2bca93cd241924c.mockapi.io/favorite');\n        const itemsRespons = await axios.get ('https://62f0fd3ee2bca93cd241924c.mockapi.io/items');\n\n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsRespons.data);\n      } catch (error) {\n        alert ('Ошибка при запросе данных ;(');\n      } \n    }\n    fetchData();\n  }, []);\n\n  const onАddToCart = async (obj) => {\n\n  const  findItam = cartItems.find(item=>Number(item.id) === Number(obj.id));\n    try{\n      if (findItam) {\n        setCartItems((prev) => prev.filter((item)=> Number(item.id) !== Number(obj.id)));\n        await axios.delete (`https://62f0fd3ee2bca93cd241924c.mockapi.io/cart'/${obj.id}`) \n      } else {\n        setCartItems((prev) => [...prev, obj]);  \n        const {data} = await axios.post ('https://62f0fd3ee2bca93cd241924c.mockapi.io/cart', obj);\n        setCartItems((prev) => prev.map(item => { \n          if (item.parentId === data.parentId) {\n            return {\n              ...item,\n              id: data.id\n            };\n          }\n        return item;\n      }));\n    }\n      } catch(error) {\n        alert ('Ошибка, не удалось добавить в корзину');\n        console.error(error);\n    }\n  }; \n\n  const onRemuveItem = async (id) => {\n    try {\n      axios.delete (`https://62f0fd3ee2bca93cd241924c.mockapi.io/cart/${id}`); \n    setCartItems((prev) => prev.filter((item)=> item.id !== id));\n    } catch (error) {\n      alert('Ошибка, не удалось удалить товар из корзины')\n      console.error(error);\n    }\n  };\n\n  const onAddToFavorite = async (obj) => {\n    try{\n    if (favorites.find(favObj=>Number(favObj.id) === Number(obj.id))) {\n       axios.delete (`https://62f0fd3ee2bca93cd241924c.mockapi.io/favorite/${obj.id}`)\n       setFavorites((prev) => prev.filter((item)=> Number(item.id) !== Number(obj.id)));\n    } else {\n    const {data} = await axios.post ('https://62f0fd3ee2bca93cd241924c.mockapi.io/favorite', obj);\n    setFavorites((prev) => [...prev, data]);\n    }\n    } catch(error) {\n      alert ('не удалось добавить в фавориты');\n      console.error(error);\n  }\n  };\n\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n    \n  };\n\n  const isItemAdded = (id) => {\n   return cartItems.some((obj) =>Number(obj.parentId) === Number(id));\n  }\n \n  return (\n    <AppContext.Provider value={{items, cartItems, favorites, isItemAdded, onAddToFavorite, setCartOpened, setCartItems, onАddToCart}}>\n      <div className=\"App clear\">\n    {cartOpened && (\n    <Drawer items={cartItems} onClose={() => setCartOpened (false)} onRemove={onRemuveItem} opened={cartOpened}/>)}\n    \n    <Header onClickCart={() => setCartOpened (true)}/>\n\n    <Routes>\n        <Route path=\"\" element={ <Home\n            \n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddToFavorite={onAddToFavorite}\n            onАddToCart={onАddToCart}\n            isLoading={isLoading}\n            \n         />\n   }/>\n         \n  </Routes>\n  <Routes>\n        <Route path=\"favorites\" element={ <Favorites\n        />\n   }/>\n         \n  </Routes>\n\n  <Routes>\n        <Route path=\"orders\" element={ <Orders\n        />\n   }/>\n         \n  </Routes>\n  \n        \n  </div>\n    </AppContext.Provider>\n  );\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}